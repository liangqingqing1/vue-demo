{"ast":null,"code":"import TreeMenu from \"@/views/TreeMenu\";\n// 父组件\nexport default {\n  name: \"SideBar\",\n  // 引入子组件\n  components: {\n    TreeMenu: TreeMenu\n  },\n  data: function data() {\n    return {\n      submenu: {\n        submenuHide: false,\n        submenuShow: true\n      },\n      menus: []\n    };\n  },\n  methods: {\n    expand: function expand() {\n      this.submenu.submenuShow = !this.submenu.submenuShow;\n      this.submenu.submenuHide = !this.submenu.submenuHide;\n    },\n    getPermissionByUserId: function getPermissionByUserId() {\n      var _this = this;\n      userId = JSON.parse(window.localStorage.getItem(\"user\")).data.userId;\n      this.$store.dispatch('getPermissionByUserId', userId).then(function (response) {\n        // 拿到结果\n        var statusCode = res.data.statusCode;\n        _this.menus = res.data.data;\n        // 判断结果\n        if (statusCode == 200) {\n          console.log(\"获取权限成功\");\n        } else {\n          console.log(\"获取权限错误\");\n        }\n      }).catch(function () {\n        _this.loading = false;\n      });\n      console.log(\"调用getPermissionByUserId()\");\n      this.$axios.get('http://localhost:8080/getPermissionByUserId', {\n        params: {\n          userId: JSON.parse(window.localStorage.getItem(\"user\")).data.userId\n        }\n      }).then(function (res) {\n        // 拿到结果\n        console.log(res.data);\n        var statusCode = res.data.statusCode;\n        var message = res.data.message;\n        console.log(res.data.data);\n        _this.menus = res.data.data;\n        // 判断结果\n        if (statusCode == 200) {\n          console.log(\"获取权限成功\");\n        } else {\n          console.log(\"获取权限错误\");\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    // 页面加载时触发函数\n    console.log(\"SideBar加载触发\");\n    this.getPermissionByUserId();\n  }\n};","map":{"version":3,"mappings":"AAaA;AACA;AACA;EACAA;EACA;EACAC;IAAAC;EAAA;EACAC;IACA;MACAC;QACAC;QACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACAC;MACA;QACA;QACA;QACA;QACA;QACA;UACAC;QACA;UACAA;QACA;MACA;QACA;MACA;MACAA;MACA,+DACA;QAAAC;UAAAF;QAAA;MAAA;QACA;QACAC;QACA;QACA;QACAA;QACA;QACA;QACA;UACAA;QACA;UACAA;QACA;MACA;IACA;EACA;EACAE;IAAA;IACAF;IACA;EACA;AACA","names":["name","components","TreeMenu","data","submenu","submenuHide","submenuShow","menus","methods","expand","getPermissionByUserId","userId","console","params","mounted"],"sourceRoot":"src/views","sources":["SideBar.vue"],"sourcesContent":["<template>\r\n  <nav id=\"nav\">\r\n    <div id=\"navTitle\">广西永湘物流公司</div>\r\n    <div id =\"menu\">\r\n      <ul  v-for=\"(menu,index) in menus\" :key=\"index\">\r\n          <tree-menu :menu=\"menu\"></tree-menu>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n\r\nimport TreeMenu from \"@/views/TreeMenu\";\r\n// 父组件\r\nexport default {\r\n  name: \"SideBar\",\r\n  // 引入子组件\r\n  components: {TreeMenu},\r\n  data() {\r\n    return {\r\n      submenu: {\r\n        submenuHide: false,\r\n        submenuShow: true\r\n      },\r\n      menus:[]\r\n    }\r\n  },\r\n  methods: {\r\n    expand() {\r\n      this.submenu.submenuShow = !this.submenu.submenuShow;\r\n      this.submenu.submenuHide = !this.submenu.submenuHide;\r\n    },\r\n    getPermissionByUserId(){\r\n      userId=JSON.parse(window.localStorage.getItem(\"user\")).data.userId\r\n      this.$store.dispatch('getPermissionByUserId',userId).then((response) => {\r\n              // 拿到结果\r\n            let statusCode = res.data.statusCode\r\n            this.menus=res.data.data\r\n            // 判断结果\r\n              if (statusCode==200) {\r\n                console.log(\"获取权限成功\")\r\n              } else {\r\n                console.log(\"获取权限错误\")\r\n              }\r\n          }).catch(() => {\r\n            this.loading = false\r\n          })\r\n      console.log(\"调用getPermissionByUserId()\")\r\n      this.$axios.get('http://localhost:8080/getPermissionByUserId',\r\n      {params:{userId:JSON.parse(window.localStorage.getItem(\"user\")).data.userId}}).then(res => {\r\n          // 拿到结果\r\n          console.log(res.data)\r\n          let statusCode = res.data.statusCode\r\n          let message = res.data.message;\r\n          console.log(res.data.data)\r\n          this.menus=res.data.data\r\n          // 判断结果\r\n          if (statusCode==200) {\r\n            console.log(\"获取权限成功\")\r\n          } else {\r\n            console.log(\"获取权限错误\")\r\n          }\r\n        })\r\n    }\r\n  },\r\n  mounted:function(){  // 页面加载时触发函数\r\n    console.log(\"SideBar加载触发\")\r\n    this.getPermissionByUserId()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#nav {\r\n  height:100%;\r\n  background-color: rgb(255, 253, 253);\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 15%;\r\n  position: fixed;\r\n  border-right: 1px solid #e3e3e3;\r\n}\r\n#nav #menu{\r\n    /*只是y方向*/\r\n  bottom: 0;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n}\r\n#nav #navTitle{\r\n  font-size: 20px;\r\n  height: 50px;\r\n  min-height: 50px;\r\n  line-height: 50px;\r\n  font-weight: 600;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\nli {\r\n  list-style: none;\r\n  position: relative;\r\n  border-style: solid;\r\n  border-width: 1px 0 0;\r\n  border-color: #E5E5E5;\r\n}\r\n\r\n.submenu > li {\r\n  position: relative;\r\n}\r\n\r\n/* 二级  */\r\n.submenu > li a{\r\n  padding-left: 45px;\r\n}\r\na {\r\n  display: block;\r\n  width: 189px;\r\n  height: 36px;\r\n  color: #5d5d5d;\r\n  text-decoration: none;\r\n  line-height: 36px;\r\n}\r\n\r\n.submenuHide {\r\n  display: none;\r\n  position: relative;\r\n}\r\n\r\n.submenuShow {\r\n  display: block;\r\n  position: relative;\r\n}\r\n\r\n.submenu:before {\r\n  content: \"\";\r\n  display: block;\r\n  position: absolute;\r\n  z-index: 1;\r\n  left: 15px;\r\n  top: 37px;\r\n  bottom: 0;\r\n  border: 1px dotted;\r\n  border-width: 0 0 0 1px; /* 上 右 下 左 */\r\n}\r\n\r\n.submenu > li:before {\r\n  content: \"\";\r\n  display: block;\r\n  width: 10px;\r\n  position: absolute;\r\n  z-index: 1;\r\n  left: 20px;\r\n  top: 17px;\r\n  border: 1px dotted;\r\n  border-width: 1px 0 0; /* 上 右 下*/\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}