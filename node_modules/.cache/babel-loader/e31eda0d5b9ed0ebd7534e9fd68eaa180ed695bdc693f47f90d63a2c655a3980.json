{"ast":null,"code":"/**\r\n  * 节流函数；当被调用 n 毫秒后才会执行，如果在这时间内又被调用则至少每隔 n 秒毫秒调用一次该函数\r\n  *\r\n  * @param {Function} callback 回调\r\n  * @param {Number} wait 多少秒毫\r\n  * @param {Object} options 参数{leading: 是否在之前执行, trailing: 是否在之后执行}\r\n  * @return {Function}\r\n  */\nfunction throttle(callback, wait, options) {\n  var args, context;\n  var opts = options || {};\n  var runFlag = false;\n  var isDestroy = false;\n  var timeout = 0;\n  var optLeading = 'leading' in opts ? opts.leading : true;\n  var optTrailing = 'trailing' in opts ? opts.trailing : false;\n  var runFn = function runFn() {\n    if (!isDestroy) {\n      runFlag = true;\n      callback.apply(context, args);\n      timeout = setTimeout(endFn, wait);\n    }\n  };\n  var endFn = function endFn() {\n    timeout = 0;\n    if (!isDestroy && !runFlag && optTrailing === true) {\n      runFn();\n    }\n  };\n  var cancelFn = function cancelFn() {\n    var rest = timeout !== 0;\n    clearTimeout(timeout);\n    args = null;\n    context = null;\n    runFlag = false;\n    timeout = 0;\n    return rest;\n  };\n  var throttled = function throttled() {\n    args = arguments;\n    context = this;\n    runFlag = false;\n    if (timeout === 0) {\n      if (optLeading === true) {\n        runFn();\n      } else if (optTrailing === true) {\n        timeout = setTimeout(endFn, wait);\n      }\n    }\n  };\n  throttled.cancel = cancelFn;\n  return throttled;\n}\nmodule.exports = throttle;","map":{"version":3,"names":["throttle","callback","wait","options","args","context","opts","runFlag","isDestroy","timeout","optLeading","leading","optTrailing","trailing","runFn","apply","setTimeout","endFn","cancelFn","rest","clearTimeout","throttled","arguments","cancel","module","exports"],"sources":["D:/program/LanqiaoVue/vue-demo/node_modules/xe-utils/throttle.js"],"sourcesContent":["/**\r\n  * 节流函数；当被调用 n 毫秒后才会执行，如果在这时间内又被调用则至少每隔 n 秒毫秒调用一次该函数\r\n  *\r\n  * @param {Function} callback 回调\r\n  * @param {Number} wait 多少秒毫\r\n  * @param {Object} options 参数{leading: 是否在之前执行, trailing: 是否在之后执行}\r\n  * @return {Function}\r\n  */\r\nfunction throttle (callback, wait, options) {\r\n  var args, context\r\n  var opts = options || {}\r\n  var runFlag = false\r\n  var isDestroy = false\r\n  var timeout = 0\r\n  var optLeading = 'leading' in opts ? opts.leading : true\r\n  var optTrailing = 'trailing' in opts ? opts.trailing : false\r\n  var runFn = function () {\r\n    if (!isDestroy) {\r\n      runFlag = true\r\n      callback.apply(context, args)\r\n      timeout = setTimeout(endFn, wait)\r\n    }\r\n  }\r\n  var endFn = function () {\r\n    timeout = 0\r\n    if (!isDestroy && !runFlag && optTrailing === true) {\r\n      runFn()\r\n    }\r\n  }\r\n  var cancelFn = function () {\r\n    var rest = timeout !== 0\r\n    clearTimeout(timeout)\r\n    args = null\r\n    context = null\r\n    runFlag = false\r\n    timeout = 0\r\n    return rest\r\n  }\r\n  var throttled = function () {\r\n    args = arguments\r\n    context = this\r\n    runFlag = false\r\n    if (timeout === 0) {\r\n      if (optLeading === true) {\r\n        runFn()\r\n      } else if (optTrailing === true) {\r\n        timeout = setTimeout(endFn, wait)\r\n      }\r\n    }\r\n  }\r\n  throttled.cancel = cancelFn\r\n  return throttled\r\n}\r\n\r\nmodule.exports = throttle\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQ,CAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAC1C,IAAIC,IAAI,EAAEC,OAAO;EACjB,IAAIC,IAAI,GAAGH,OAAO,IAAI,CAAC,CAAC;EACxB,IAAII,OAAO,GAAG,KAAK;EACnB,IAAIC,SAAS,GAAG,KAAK;EACrB,IAAIC,OAAO,GAAG,CAAC;EACf,IAAIC,UAAU,GAAG,SAAS,IAAIJ,IAAI,GAAGA,IAAI,CAACK,OAAO,GAAG,IAAI;EACxD,IAAIC,WAAW,GAAG,UAAU,IAAIN,IAAI,GAAGA,IAAI,CAACO,QAAQ,GAAG,KAAK;EAC5D,IAAIC,KAAK,GAAG,SAARA,KAAK,GAAe;IACtB,IAAI,CAACN,SAAS,EAAE;MACdD,OAAO,GAAG,IAAI;MACdN,QAAQ,CAACc,KAAK,CAACV,OAAO,EAAED,IAAI,CAAC;MAC7BK,OAAO,GAAGO,UAAU,CAACC,KAAK,EAAEf,IAAI,CAAC;IACnC;EACF,CAAC;EACD,IAAIe,KAAK,GAAG,SAARA,KAAK,GAAe;IACtBR,OAAO,GAAG,CAAC;IACX,IAAI,CAACD,SAAS,IAAI,CAACD,OAAO,IAAIK,WAAW,KAAK,IAAI,EAAE;MAClDE,KAAK,EAAE;IACT;EACF,CAAC;EACD,IAAII,QAAQ,GAAG,SAAXA,QAAQ,GAAe;IACzB,IAAIC,IAAI,GAAGV,OAAO,KAAK,CAAC;IACxBW,YAAY,CAACX,OAAO,CAAC;IACrBL,IAAI,GAAG,IAAI;IACXC,OAAO,GAAG,IAAI;IACdE,OAAO,GAAG,KAAK;IACfE,OAAO,GAAG,CAAC;IACX,OAAOU,IAAI;EACb,CAAC;EACD,IAAIE,SAAS,GAAG,SAAZA,SAAS,GAAe;IAC1BjB,IAAI,GAAGkB,SAAS;IAChBjB,OAAO,GAAG,IAAI;IACdE,OAAO,GAAG,KAAK;IACf,IAAIE,OAAO,KAAK,CAAC,EAAE;MACjB,IAAIC,UAAU,KAAK,IAAI,EAAE;QACvBI,KAAK,EAAE;MACT,CAAC,MAAM,IAAIF,WAAW,KAAK,IAAI,EAAE;QAC/BH,OAAO,GAAGO,UAAU,CAACC,KAAK,EAAEf,IAAI,CAAC;MACnC;IACF;EACF,CAAC;EACDmB,SAAS,CAACE,MAAM,GAAGL,QAAQ;EAC3B,OAAOG,SAAS;AAClB;AAEAG,MAAM,CAACC,OAAO,GAAGzB,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}