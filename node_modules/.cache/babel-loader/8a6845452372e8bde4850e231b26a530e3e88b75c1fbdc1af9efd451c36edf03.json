{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.string.fixed.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _xeUtils = _interopRequireDefault(require(\"xe-utils\"));\nvar _dom = _interopRequireWildcard(require(\"../../tools/dom\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction getTargetOffset(target, container) {\n  var offsetTop = 0;\n  var offsetLeft = 0;\n  var triggerCheckboxLabel = !_dom.browse.firefox && _dom.default.hasClass(target, 'vxe-checkbox--label');\n  if (triggerCheckboxLabel) {\n    var checkboxLabelStyle = getComputedStyle(target);\n    offsetTop -= _xeUtils.default.toNumber(checkboxLabelStyle.paddingTop);\n    offsetLeft -= _xeUtils.default.toNumber(checkboxLabelStyle.paddingLeft);\n  }\n  while (target && target !== container) {\n    offsetTop += target.offsetTop;\n    offsetLeft += target.offsetLeft;\n    target = target.offsetParent;\n    if (triggerCheckboxLabel) {\n      var checkboxStyle = getComputedStyle(target);\n      offsetTop -= _xeUtils.default.toNumber(checkboxStyle.paddingTop);\n      offsetLeft -= _xeUtils.default.toNumber(checkboxStyle.paddingLeft);\n    }\n  }\n  return {\n    offsetTop: offsetTop,\n    offsetLeft: offsetLeft\n  };\n}\nfunction getCheckboxRangeRows(_vm, params, targetTrElem, moveRange) {\n  var countHeight = 0;\n  var rangeRows = [];\n  var isDown = moveRange > 0;\n  var moveSize = moveRange > 0 ? moveRange : Math.abs(moveRange) + targetTrElem.offsetHeight;\n  var afterFullData = _vm.afterFullData,\n    scrollYStore = _vm.scrollYStore,\n    scrollYLoad = _vm.scrollYLoad;\n  if (scrollYLoad) {\n    var _rowIndex = _vm.getVTRowIndex(params.row);\n    if (isDown) {\n      rangeRows = afterFullData.slice(_rowIndex, _rowIndex + Math.ceil(moveSize / scrollYStore.rowHeight));\n    } else {\n      rangeRows = afterFullData.slice(_rowIndex - Math.floor(moveSize / scrollYStore.rowHeight) + 1, _rowIndex + 1);\n    }\n  } else {\n    var siblingProp = isDown ? 'next' : 'previous';\n    while (targetTrElem && countHeight < moveSize) {\n      rangeRows.push(_vm.getRowNode(targetTrElem).item);\n      countHeight += targetTrElem.offsetHeight;\n      targetTrElem = targetTrElem[\"\".concat(siblingProp, \"ElementSibling\")];\n    }\n  }\n  return rangeRows;\n}\nvar _default = {\n  methods: {\n    // 处理 Tab 键移动\n    moveTabSelected: function moveTabSelected(args, isLeft, evnt) {\n      var _this = this;\n      var afterFullData = this.afterFullData,\n        visibleColumn = this.visibleColumn,\n        editConfig = this.editConfig,\n        editOpts = this.editOpts;\n      var targetRow;\n      var targetRowIndex;\n      var targetColumnIndex;\n      var params = Object.assign({}, args);\n      var _rowIndex = this.getVTRowIndex(params.row);\n      var _columnIndex = this.getVTColumnIndex(params.column);\n      evnt.preventDefault();\n      if (isLeft) {\n        // 向左\n        if (_columnIndex <= 0) {\n          // 如果已经是第一列，则移动到上一行\n          if (_rowIndex > 0) {\n            targetRowIndex = _rowIndex - 1;\n            targetRow = afterFullData[targetRowIndex];\n            targetColumnIndex = visibleColumn.length - 1;\n          }\n        } else {\n          targetColumnIndex = _columnIndex - 1;\n        }\n      } else {\n        if (_columnIndex >= visibleColumn.length - 1) {\n          // 如果已经是第一列，则移动到上一行\n          if (_rowIndex < afterFullData.length - 1) {\n            targetRowIndex = _rowIndex + 1;\n            targetRow = afterFullData[targetRowIndex];\n            targetColumnIndex = 0;\n          }\n        } else {\n          targetColumnIndex = _columnIndex + 1;\n        }\n      }\n      var targetColumn = visibleColumn[targetColumnIndex];\n      if (targetColumn) {\n        if (targetRow) {\n          params.rowIndex = targetRowIndex;\n          params.row = targetRow;\n        } else {\n          params.rowIndex = _rowIndex;\n        }\n        params.columnIndex = targetColumnIndex;\n        params.column = targetColumn;\n        params.cell = this.getCell(params.row, params.column);\n        if (editConfig) {\n          if (editOpts.trigger === 'click' || editOpts.trigger === 'dblclick') {\n            if (editOpts.mode === 'row') {\n              this.handleActived(params, evnt);\n            } else {\n              this.scrollToRow(params.row, params.column).then(function () {\n                return _this.handleSelected(params, evnt);\n              });\n            }\n          }\n        } else {\n          this.scrollToRow(params.row, params.column).then(function () {\n            return _this.handleSelected(params, evnt);\n          });\n        }\n      }\n    },\n    // 处理当前行方向键移动\n    moveCurrentRow: function moveCurrentRow(isUpArrow, isDwArrow, evnt) {\n      var _this2 = this;\n      var currentRow = this.currentRow,\n        treeConfig = this.treeConfig,\n        treeOpts = this.treeOpts,\n        afterFullData = this.afterFullData;\n      var targetRow;\n      evnt.preventDefault();\n      if (currentRow) {\n        if (treeConfig) {\n          var _XEUtils$findTree = _xeUtils.default.findTree(afterFullData, function (item) {\n              return item === currentRow;\n            }, treeOpts),\n            index = _XEUtils$findTree.index,\n            items = _XEUtils$findTree.items;\n          if (isUpArrow && index > 0) {\n            targetRow = items[index - 1];\n          } else if (isDwArrow && index < items.length - 1) {\n            targetRow = items[index + 1];\n          }\n        } else {\n          var _rowIndex = this.getVTRowIndex(currentRow);\n          if (isUpArrow && _rowIndex > 0) {\n            targetRow = afterFullData[_rowIndex - 1];\n          } else if (isDwArrow && _rowIndex < afterFullData.length - 1) {\n            targetRow = afterFullData[_rowIndex + 1];\n          }\n        }\n      } else {\n        targetRow = afterFullData[0];\n      }\n      if (targetRow) {\n        var params = {\n          $table: this,\n          row: targetRow\n        };\n        this.scrollToRow(targetRow).then(function () {\n          return _this2.triggerCurrentRowEvent(evnt, params);\n        });\n      }\n    },\n    // 处理可编辑方向键移动\n    moveSelected: function moveSelected(args, isLeftArrow, isUpArrow, isRightArrow, isDwArrow, evnt) {\n      var _this3 = this;\n      var afterFullData = this.afterFullData,\n        visibleColumn = this.visibleColumn;\n      var params = Object.assign({}, args);\n      var _rowIndex = this.getVTRowIndex(params.row);\n      var _columnIndex = this.getVTColumnIndex(params.column);\n      evnt.preventDefault();\n      if (isUpArrow && _rowIndex > 0) {\n        // 移动到上一行\n        params.rowIndex = _rowIndex - 1;\n        params.row = afterFullData[params.rowIndex];\n      } else if (isDwArrow && _rowIndex < afterFullData.length - 1) {\n        // 移动到下一行\n        params.rowIndex = _rowIndex + 1;\n        params.row = afterFullData[params.rowIndex];\n      } else if (isLeftArrow && _columnIndex) {\n        // 移动到左侧单元格\n        params.columnIndex = _columnIndex - 1;\n        params.column = visibleColumn[params.columnIndex];\n      } else if (isRightArrow && _columnIndex < visibleColumn.length - 1) {\n        // 移动到右侧单元格\n        params.columnIndex = _columnIndex + 1;\n        params.column = visibleColumn[params.columnIndex];\n      }\n      this.scrollToRow(params.row, params.column).then(function () {\n        params.cell = _this3.getCell(params.row, params.column);\n        _this3.handleSelected(params, evnt);\n      });\n    },\n    /**\r\n     * 表头单元格按下事件\r\n     */\n    triggerHeaderCellMousedownEvent: function triggerHeaderCellMousedownEvent(evnt, params) {\n      var mouseConfig = this.mouseConfig,\n        mouseOpts = this.mouseOpts;\n      if (mouseConfig && mouseOpts.area && this.handleHeaderCellAreaEvent) {\n        var cell = evnt.currentTarget;\n        var triggerSort = _dom.default.getEventTargetNode(evnt, cell, 'vxe-cell--sort').flag;\n        var triggerFilter = _dom.default.getEventTargetNode(evnt, cell, 'vxe-cell--filter').flag;\n        this.handleHeaderCellAreaEvent(evnt, Object.assign({\n          cell: cell,\n          triggerSort: triggerSort,\n          triggerFilter: triggerFilter\n        }, params));\n      }\n      this.focus();\n      this.closeMenu();\n    },\n    /**\r\n     * 单元格按下事件\r\n     */\n    triggerCellMousedownEvent: function triggerCellMousedownEvent(evnt, params) {\n      var cell = evnt.currentTarget;\n      params.cell = cell;\n      this.handleCellMousedownEvent(evnt, params);\n      this.focus();\n      this.closeFilter();\n      this.closeMenu();\n    },\n    handleCellMousedownEvent: function handleCellMousedownEvent(evnt, params) {\n      var editConfig = this.editConfig,\n        editOpts = this.editOpts,\n        handleSelected = this.handleSelected,\n        checkboxConfig = this.checkboxConfig,\n        checkboxOpts = this.checkboxOpts,\n        mouseConfig = this.mouseConfig,\n        mouseOpts = this.mouseOpts;\n      if (mouseConfig && mouseOpts.area && this.handleCellAreaEvent) {\n        return this.handleCellAreaEvent(evnt, params);\n      } else {\n        if (checkboxConfig && checkboxOpts.range) {\n          this.handleCheckboxRangeEvent(evnt, params);\n        }\n        if (mouseConfig && mouseOpts.selected) {\n          if (!editConfig || editOpts.mode === 'cell') {\n            handleSelected(params, evnt);\n          }\n        }\n      }\n    },\n    handleCheckboxRangeEvent: function handleCheckboxRangeEvent(evnt, params) {\n      var _this4 = this;\n      var column = params.column,\n        cell = params.cell;\n      if (column.type === 'checkbox') {\n        var $el = this.$el,\n          elemStore = this.elemStore;\n        var disX = evnt.clientX;\n        var disY = evnt.clientY;\n        var bodyWrapperElem = elemStore[\"\".concat(column.fixed || 'main', \"-body-wrapper\")] || elemStore['main-body-wrapper'];\n        var checkboxRangeElem = bodyWrapperElem.querySelector('.vxe-table--checkbox-range');\n        var domMousemove = document.onmousemove;\n        var domMouseup = document.onmouseup;\n        var trElem = cell.parentNode;\n        var selectRecords = this.getCheckboxRecords();\n        var lastRangeRows = [];\n        var marginSize = 1;\n        var offsetRest = getTargetOffset(evnt.target, bodyWrapperElem);\n        var startTop = offsetRest.offsetTop + evnt.offsetY;\n        var startLeft = offsetRest.offsetLeft + evnt.offsetX;\n        var startScrollTop = bodyWrapperElem.scrollTop;\n        var rowHeight = trElem.offsetHeight;\n        var mouseScrollTimeout = null;\n        var isMouseScrollDown = false;\n        var mouseScrollSpaceSize = 1;\n        var triggerEvent = function triggerEvent(type, evnt) {\n          _this4.emitEvent(\"checkbox-range-\".concat(type), {\n            records: _this4.getCheckboxRecords(),\n            reserves: _this4.getCheckboxReserveRecords()\n          }, evnt);\n        };\n        var handleChecked = function handleChecked(evnt) {\n          var clientX = evnt.clientX,\n            clientY = evnt.clientY;\n          var offsetLeft = clientX - disX;\n          var offsetTop = clientY - disY + (bodyWrapperElem.scrollTop - startScrollTop);\n          var rangeHeight = Math.abs(offsetTop);\n          var rangeWidth = Math.abs(offsetLeft);\n          var rangeTop = startTop;\n          var rangeLeft = startLeft;\n          if (offsetTop < marginSize) {\n            // 向上\n            rangeTop += offsetTop;\n            if (rangeTop < marginSize) {\n              rangeTop = marginSize;\n              rangeHeight = startTop;\n            }\n          } else {\n            // 向下\n            rangeHeight = Math.min(rangeHeight, bodyWrapperElem.scrollHeight - startTop - marginSize);\n          }\n          if (offsetLeft < marginSize) {\n            // 向左\n            rangeLeft += offsetLeft;\n            if (rangeWidth > startLeft) {\n              rangeLeft = marginSize;\n              rangeWidth = startLeft;\n            }\n          } else {\n            // 向右\n            rangeWidth = Math.min(rangeWidth, bodyWrapperElem.clientWidth - startLeft - marginSize);\n          }\n          checkboxRangeElem.style.height = \"\".concat(rangeHeight, \"px\");\n          checkboxRangeElem.style.width = \"\".concat(rangeWidth, \"px\");\n          checkboxRangeElem.style.left = \"\".concat(rangeLeft, \"px\");\n          checkboxRangeElem.style.top = \"\".concat(rangeTop, \"px\");\n          checkboxRangeElem.style.display = 'block';\n          var rangeRows = getCheckboxRangeRows(_this4, params, trElem, offsetTop < marginSize ? -rangeHeight : rangeHeight);\n          // 至少滑动 10px 才能有效匹配\n          if (rangeHeight > 10 && rangeRows.length !== lastRangeRows.length) {\n            lastRangeRows = rangeRows;\n            if (evnt.ctrlKey) {\n              rangeRows.forEach(function (row) {\n                _this4.handleSelectRow({\n                  row: row\n                }, selectRecords.indexOf(row) === -1);\n              });\n            } else {\n              _this4.setAllCheckboxRow(false);\n              _this4.setCheckboxRow(rangeRows, true);\n            }\n            triggerEvent('change', evnt);\n          }\n        };\n        // 停止鼠标滚动\n        var stopMouseScroll = function stopMouseScroll() {\n          clearTimeout(mouseScrollTimeout);\n          mouseScrollTimeout = null;\n        };\n        // 开始鼠标滚动\n        var startMouseScroll = function startMouseScroll(evnt) {\n          stopMouseScroll();\n          mouseScrollTimeout = setTimeout(function () {\n            if (mouseScrollTimeout) {\n              var scrollLeft = bodyWrapperElem.scrollLeft,\n                scrollTop = bodyWrapperElem.scrollTop,\n                clientHeight = bodyWrapperElem.clientHeight,\n                scrollHeight = bodyWrapperElem.scrollHeight;\n              var topSize = Math.ceil(mouseScrollSpaceSize * 50 / rowHeight);\n              if (isMouseScrollDown) {\n                if (scrollTop + clientHeight < scrollHeight) {\n                  _this4.scrollTo(scrollLeft, scrollTop + topSize);\n                  startMouseScroll(evnt);\n                  handleChecked(evnt);\n                } else {\n                  stopMouseScroll();\n                }\n              } else {\n                if (scrollTop) {\n                  _this4.scrollTo(scrollLeft, scrollTop - topSize);\n                  startMouseScroll(evnt);\n                  handleChecked(evnt);\n                } else {\n                  stopMouseScroll();\n                }\n              }\n            }\n          }, 50);\n        };\n        _dom.default.addClass($el, 'drag--range');\n        document.onmousemove = function (evnt) {\n          evnt.preventDefault();\n          evnt.stopPropagation();\n          var clientY = evnt.clientY;\n          var _DomTools$getAbsolute = _dom.default.getAbsolutePos(bodyWrapperElem),\n            boundingTop = _DomTools$getAbsolute.boundingTop;\n          // 如果超过可视区，触发滚动\n          if (clientY < boundingTop) {\n            isMouseScrollDown = false;\n            mouseScrollSpaceSize = boundingTop - clientY;\n            if (!mouseScrollTimeout) {\n              startMouseScroll(evnt);\n            }\n          } else if (clientY > boundingTop + bodyWrapperElem.clientHeight) {\n            isMouseScrollDown = true;\n            mouseScrollSpaceSize = clientY - boundingTop - bodyWrapperElem.clientHeight;\n            if (!mouseScrollTimeout) {\n              startMouseScroll(evnt);\n            }\n          } else if (mouseScrollTimeout) {\n            stopMouseScroll();\n          }\n          handleChecked(evnt);\n        };\n        document.onmouseup = function (evnt) {\n          stopMouseScroll();\n          _dom.default.removeClass($el, 'drag--range');\n          checkboxRangeElem.removeAttribute('style');\n          document.onmousemove = domMousemove;\n          document.onmouseup = domMouseup;\n          triggerEvent('end', evnt);\n        };\n        triggerEvent('start', evnt);\n      }\n    }\n  }\n};\nexports.default = _default;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_xeUtils","_interopRequireDefault","require","_dom","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","getTargetOffset","target","container","offsetTop","offsetLeft","triggerCheckboxLabel","browse","firefox","hasClass","checkboxLabelStyle","getComputedStyle","toNumber","paddingTop","paddingLeft","offsetParent","checkboxStyle","getCheckboxRangeRows","_vm","params","targetTrElem","moveRange","countHeight","rangeRows","isDown","moveSize","Math","abs","offsetHeight","afterFullData","scrollYStore","scrollYLoad","_rowIndex","getVTRowIndex","row","slice","ceil","rowHeight","floor","siblingProp","push","getRowNode","item","concat","_default","methods","moveTabSelected","args","isLeft","evnt","_this","visibleColumn","editConfig","editOpts","targetRow","targetRowIndex","targetColumnIndex","assign","_columnIndex","getVTColumnIndex","column","preventDefault","length","targetColumn","rowIndex","columnIndex","cell","getCell","trigger","mode","handleActived","scrollToRow","then","handleSelected","moveCurrentRow","isUpArrow","isDwArrow","_this2","currentRow","treeConfig","treeOpts","_XEUtils$findTree","findTree","index","items","$table","triggerCurrentRowEvent","moveSelected","isLeftArrow","isRightArrow","_this3","triggerHeaderCellMousedownEvent","mouseConfig","mouseOpts","area","handleHeaderCellAreaEvent","currentTarget","triggerSort","getEventTargetNode","flag","triggerFilter","focus","closeMenu","triggerCellMousedownEvent","handleCellMousedownEvent","closeFilter","checkboxConfig","checkboxOpts","handleCellAreaEvent","range","handleCheckboxRangeEvent","selected","_this4","type","$el","elemStore","disX","clientX","disY","clientY","bodyWrapperElem","fixed","checkboxRangeElem","querySelector","domMousemove","document","onmousemove","domMouseup","onmouseup","trElem","parentNode","selectRecords","getCheckboxRecords","lastRangeRows","marginSize","offsetRest","startTop","offsetY","startLeft","offsetX","startScrollTop","scrollTop","mouseScrollTimeout","isMouseScrollDown","mouseScrollSpaceSize","triggerEvent","emitEvent","records","reserves","getCheckboxReserveRecords","handleChecked","rangeHeight","rangeWidth","rangeTop","rangeLeft","min","scrollHeight","clientWidth","style","height","width","left","top","display","ctrlKey","forEach","handleSelectRow","indexOf","setAllCheckboxRow","setCheckboxRow","stopMouseScroll","clearTimeout","startMouseScroll","setTimeout","scrollLeft","clientHeight","topSize","scrollTo","addClass","stopPropagation","_DomTools$getAbsolute","getAbsolutePos","boundingTop","removeClass","removeAttribute"],"sources":["D:/program/LanqiaoVue/vue-demo/node_modules/vxe-table/lib/keyboard/src/mixin.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _xeUtils = _interopRequireDefault(require(\"xe-utils\"));\nvar _dom = _interopRequireWildcard(require(\"../../tools/dom\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction getTargetOffset(target, container) {\n  var offsetTop = 0;\n  var offsetLeft = 0;\n  var triggerCheckboxLabel = !_dom.browse.firefox && _dom.default.hasClass(target, 'vxe-checkbox--label');\n  if (triggerCheckboxLabel) {\n    var checkboxLabelStyle = getComputedStyle(target);\n    offsetTop -= _xeUtils.default.toNumber(checkboxLabelStyle.paddingTop);\n    offsetLeft -= _xeUtils.default.toNumber(checkboxLabelStyle.paddingLeft);\n  }\n  while (target && target !== container) {\n    offsetTop += target.offsetTop;\n    offsetLeft += target.offsetLeft;\n    target = target.offsetParent;\n    if (triggerCheckboxLabel) {\n      var checkboxStyle = getComputedStyle(target);\n      offsetTop -= _xeUtils.default.toNumber(checkboxStyle.paddingTop);\n      offsetLeft -= _xeUtils.default.toNumber(checkboxStyle.paddingLeft);\n    }\n  }\n  return {\n    offsetTop: offsetTop,\n    offsetLeft: offsetLeft\n  };\n}\nfunction getCheckboxRangeRows(_vm, params, targetTrElem, moveRange) {\n  var countHeight = 0;\n  var rangeRows = [];\n  var isDown = moveRange > 0;\n  var moveSize = moveRange > 0 ? moveRange : Math.abs(moveRange) + targetTrElem.offsetHeight;\n  var afterFullData = _vm.afterFullData,\n    scrollYStore = _vm.scrollYStore,\n    scrollYLoad = _vm.scrollYLoad;\n  if (scrollYLoad) {\n    var _rowIndex = _vm.getVTRowIndex(params.row);\n    if (isDown) {\n      rangeRows = afterFullData.slice(_rowIndex, _rowIndex + Math.ceil(moveSize / scrollYStore.rowHeight));\n    } else {\n      rangeRows = afterFullData.slice(_rowIndex - Math.floor(moveSize / scrollYStore.rowHeight) + 1, _rowIndex + 1);\n    }\n  } else {\n    var siblingProp = isDown ? 'next' : 'previous';\n    while (targetTrElem && countHeight < moveSize) {\n      rangeRows.push(_vm.getRowNode(targetTrElem).item);\n      countHeight += targetTrElem.offsetHeight;\n      targetTrElem = targetTrElem[\"\".concat(siblingProp, \"ElementSibling\")];\n    }\n  }\n  return rangeRows;\n}\nvar _default = {\n  methods: {\n    // 处理 Tab 键移动\n    moveTabSelected: function moveTabSelected(args, isLeft, evnt) {\n      var _this = this;\n      var afterFullData = this.afterFullData,\n        visibleColumn = this.visibleColumn,\n        editConfig = this.editConfig,\n        editOpts = this.editOpts;\n      var targetRow;\n      var targetRowIndex;\n      var targetColumnIndex;\n      var params = Object.assign({}, args);\n      var _rowIndex = this.getVTRowIndex(params.row);\n      var _columnIndex = this.getVTColumnIndex(params.column);\n      evnt.preventDefault();\n      if (isLeft) {\n        // 向左\n        if (_columnIndex <= 0) {\n          // 如果已经是第一列，则移动到上一行\n          if (_rowIndex > 0) {\n            targetRowIndex = _rowIndex - 1;\n            targetRow = afterFullData[targetRowIndex];\n            targetColumnIndex = visibleColumn.length - 1;\n          }\n        } else {\n          targetColumnIndex = _columnIndex - 1;\n        }\n      } else {\n        if (_columnIndex >= visibleColumn.length - 1) {\n          // 如果已经是第一列，则移动到上一行\n          if (_rowIndex < afterFullData.length - 1) {\n            targetRowIndex = _rowIndex + 1;\n            targetRow = afterFullData[targetRowIndex];\n            targetColumnIndex = 0;\n          }\n        } else {\n          targetColumnIndex = _columnIndex + 1;\n        }\n      }\n      var targetColumn = visibleColumn[targetColumnIndex];\n      if (targetColumn) {\n        if (targetRow) {\n          params.rowIndex = targetRowIndex;\n          params.row = targetRow;\n        } else {\n          params.rowIndex = _rowIndex;\n        }\n        params.columnIndex = targetColumnIndex;\n        params.column = targetColumn;\n        params.cell = this.getCell(params.row, params.column);\n        if (editConfig) {\n          if (editOpts.trigger === 'click' || editOpts.trigger === 'dblclick') {\n            if (editOpts.mode === 'row') {\n              this.handleActived(params, evnt);\n            } else {\n              this.scrollToRow(params.row, params.column).then(function () {\n                return _this.handleSelected(params, evnt);\n              });\n            }\n          }\n        } else {\n          this.scrollToRow(params.row, params.column).then(function () {\n            return _this.handleSelected(params, evnt);\n          });\n        }\n      }\n    },\n    // 处理当前行方向键移动\n    moveCurrentRow: function moveCurrentRow(isUpArrow, isDwArrow, evnt) {\n      var _this2 = this;\n      var currentRow = this.currentRow,\n        treeConfig = this.treeConfig,\n        treeOpts = this.treeOpts,\n        afterFullData = this.afterFullData;\n      var targetRow;\n      evnt.preventDefault();\n      if (currentRow) {\n        if (treeConfig) {\n          var _XEUtils$findTree = _xeUtils.default.findTree(afterFullData, function (item) {\n              return item === currentRow;\n            }, treeOpts),\n            index = _XEUtils$findTree.index,\n            items = _XEUtils$findTree.items;\n          if (isUpArrow && index > 0) {\n            targetRow = items[index - 1];\n          } else if (isDwArrow && index < items.length - 1) {\n            targetRow = items[index + 1];\n          }\n        } else {\n          var _rowIndex = this.getVTRowIndex(currentRow);\n          if (isUpArrow && _rowIndex > 0) {\n            targetRow = afterFullData[_rowIndex - 1];\n          } else if (isDwArrow && _rowIndex < afterFullData.length - 1) {\n            targetRow = afterFullData[_rowIndex + 1];\n          }\n        }\n      } else {\n        targetRow = afterFullData[0];\n      }\n      if (targetRow) {\n        var params = {\n          $table: this,\n          row: targetRow\n        };\n        this.scrollToRow(targetRow).then(function () {\n          return _this2.triggerCurrentRowEvent(evnt, params);\n        });\n      }\n    },\n    // 处理可编辑方向键移动\n    moveSelected: function moveSelected(args, isLeftArrow, isUpArrow, isRightArrow, isDwArrow, evnt) {\n      var _this3 = this;\n      var afterFullData = this.afterFullData,\n        visibleColumn = this.visibleColumn;\n      var params = Object.assign({}, args);\n      var _rowIndex = this.getVTRowIndex(params.row);\n      var _columnIndex = this.getVTColumnIndex(params.column);\n      evnt.preventDefault();\n      if (isUpArrow && _rowIndex > 0) {\n        // 移动到上一行\n        params.rowIndex = _rowIndex - 1;\n        params.row = afterFullData[params.rowIndex];\n      } else if (isDwArrow && _rowIndex < afterFullData.length - 1) {\n        // 移动到下一行\n        params.rowIndex = _rowIndex + 1;\n        params.row = afterFullData[params.rowIndex];\n      } else if (isLeftArrow && _columnIndex) {\n        // 移动到左侧单元格\n        params.columnIndex = _columnIndex - 1;\n        params.column = visibleColumn[params.columnIndex];\n      } else if (isRightArrow && _columnIndex < visibleColumn.length - 1) {\n        // 移动到右侧单元格\n        params.columnIndex = _columnIndex + 1;\n        params.column = visibleColumn[params.columnIndex];\n      }\n      this.scrollToRow(params.row, params.column).then(function () {\n        params.cell = _this3.getCell(params.row, params.column);\n        _this3.handleSelected(params, evnt);\n      });\n    },\n    /**\r\n     * 表头单元格按下事件\r\n     */\n    triggerHeaderCellMousedownEvent: function triggerHeaderCellMousedownEvent(evnt, params) {\n      var mouseConfig = this.mouseConfig,\n        mouseOpts = this.mouseOpts;\n      if (mouseConfig && mouseOpts.area && this.handleHeaderCellAreaEvent) {\n        var cell = evnt.currentTarget;\n        var triggerSort = _dom.default.getEventTargetNode(evnt, cell, 'vxe-cell--sort').flag;\n        var triggerFilter = _dom.default.getEventTargetNode(evnt, cell, 'vxe-cell--filter').flag;\n        this.handleHeaderCellAreaEvent(evnt, Object.assign({\n          cell: cell,\n          triggerSort: triggerSort,\n          triggerFilter: triggerFilter\n        }, params));\n      }\n      this.focus();\n      this.closeMenu();\n    },\n    /**\r\n     * 单元格按下事件\r\n     */\n    triggerCellMousedownEvent: function triggerCellMousedownEvent(evnt, params) {\n      var cell = evnt.currentTarget;\n      params.cell = cell;\n      this.handleCellMousedownEvent(evnt, params);\n      this.focus();\n      this.closeFilter();\n      this.closeMenu();\n    },\n    handleCellMousedownEvent: function handleCellMousedownEvent(evnt, params) {\n      var editConfig = this.editConfig,\n        editOpts = this.editOpts,\n        handleSelected = this.handleSelected,\n        checkboxConfig = this.checkboxConfig,\n        checkboxOpts = this.checkboxOpts,\n        mouseConfig = this.mouseConfig,\n        mouseOpts = this.mouseOpts;\n      if (mouseConfig && mouseOpts.area && this.handleCellAreaEvent) {\n        return this.handleCellAreaEvent(evnt, params);\n      } else {\n        if (checkboxConfig && checkboxOpts.range) {\n          this.handleCheckboxRangeEvent(evnt, params);\n        }\n        if (mouseConfig && mouseOpts.selected) {\n          if (!editConfig || editOpts.mode === 'cell') {\n            handleSelected(params, evnt);\n          }\n        }\n      }\n    },\n    handleCheckboxRangeEvent: function handleCheckboxRangeEvent(evnt, params) {\n      var _this4 = this;\n      var column = params.column,\n        cell = params.cell;\n      if (column.type === 'checkbox') {\n        var $el = this.$el,\n          elemStore = this.elemStore;\n        var disX = evnt.clientX;\n        var disY = evnt.clientY;\n        var bodyWrapperElem = elemStore[\"\".concat(column.fixed || 'main', \"-body-wrapper\")] || elemStore['main-body-wrapper'];\n        var checkboxRangeElem = bodyWrapperElem.querySelector('.vxe-table--checkbox-range');\n        var domMousemove = document.onmousemove;\n        var domMouseup = document.onmouseup;\n        var trElem = cell.parentNode;\n        var selectRecords = this.getCheckboxRecords();\n        var lastRangeRows = [];\n        var marginSize = 1;\n        var offsetRest = getTargetOffset(evnt.target, bodyWrapperElem);\n        var startTop = offsetRest.offsetTop + evnt.offsetY;\n        var startLeft = offsetRest.offsetLeft + evnt.offsetX;\n        var startScrollTop = bodyWrapperElem.scrollTop;\n        var rowHeight = trElem.offsetHeight;\n        var mouseScrollTimeout = null;\n        var isMouseScrollDown = false;\n        var mouseScrollSpaceSize = 1;\n        var triggerEvent = function triggerEvent(type, evnt) {\n          _this4.emitEvent(\"checkbox-range-\".concat(type), {\n            records: _this4.getCheckboxRecords(),\n            reserves: _this4.getCheckboxReserveRecords()\n          }, evnt);\n        };\n        var handleChecked = function handleChecked(evnt) {\n          var clientX = evnt.clientX,\n            clientY = evnt.clientY;\n          var offsetLeft = clientX - disX;\n          var offsetTop = clientY - disY + (bodyWrapperElem.scrollTop - startScrollTop);\n          var rangeHeight = Math.abs(offsetTop);\n          var rangeWidth = Math.abs(offsetLeft);\n          var rangeTop = startTop;\n          var rangeLeft = startLeft;\n          if (offsetTop < marginSize) {\n            // 向上\n            rangeTop += offsetTop;\n            if (rangeTop < marginSize) {\n              rangeTop = marginSize;\n              rangeHeight = startTop;\n            }\n          } else {\n            // 向下\n            rangeHeight = Math.min(rangeHeight, bodyWrapperElem.scrollHeight - startTop - marginSize);\n          }\n          if (offsetLeft < marginSize) {\n            // 向左\n            rangeLeft += offsetLeft;\n            if (rangeWidth > startLeft) {\n              rangeLeft = marginSize;\n              rangeWidth = startLeft;\n            }\n          } else {\n            // 向右\n            rangeWidth = Math.min(rangeWidth, bodyWrapperElem.clientWidth - startLeft - marginSize);\n          }\n          checkboxRangeElem.style.height = \"\".concat(rangeHeight, \"px\");\n          checkboxRangeElem.style.width = \"\".concat(rangeWidth, \"px\");\n          checkboxRangeElem.style.left = \"\".concat(rangeLeft, \"px\");\n          checkboxRangeElem.style.top = \"\".concat(rangeTop, \"px\");\n          checkboxRangeElem.style.display = 'block';\n          var rangeRows = getCheckboxRangeRows(_this4, params, trElem, offsetTop < marginSize ? -rangeHeight : rangeHeight);\n          // 至少滑动 10px 才能有效匹配\n          if (rangeHeight > 10 && rangeRows.length !== lastRangeRows.length) {\n            lastRangeRows = rangeRows;\n            if (evnt.ctrlKey) {\n              rangeRows.forEach(function (row) {\n                _this4.handleSelectRow({\n                  row: row\n                }, selectRecords.indexOf(row) === -1);\n              });\n            } else {\n              _this4.setAllCheckboxRow(false);\n              _this4.setCheckboxRow(rangeRows, true);\n            }\n            triggerEvent('change', evnt);\n          }\n        };\n        // 停止鼠标滚动\n        var stopMouseScroll = function stopMouseScroll() {\n          clearTimeout(mouseScrollTimeout);\n          mouseScrollTimeout = null;\n        };\n        // 开始鼠标滚动\n        var startMouseScroll = function startMouseScroll(evnt) {\n          stopMouseScroll();\n          mouseScrollTimeout = setTimeout(function () {\n            if (mouseScrollTimeout) {\n              var scrollLeft = bodyWrapperElem.scrollLeft,\n                scrollTop = bodyWrapperElem.scrollTop,\n                clientHeight = bodyWrapperElem.clientHeight,\n                scrollHeight = bodyWrapperElem.scrollHeight;\n              var topSize = Math.ceil(mouseScrollSpaceSize * 50 / rowHeight);\n              if (isMouseScrollDown) {\n                if (scrollTop + clientHeight < scrollHeight) {\n                  _this4.scrollTo(scrollLeft, scrollTop + topSize);\n                  startMouseScroll(evnt);\n                  handleChecked(evnt);\n                } else {\n                  stopMouseScroll();\n                }\n              } else {\n                if (scrollTop) {\n                  _this4.scrollTo(scrollLeft, scrollTop - topSize);\n                  startMouseScroll(evnt);\n                  handleChecked(evnt);\n                } else {\n                  stopMouseScroll();\n                }\n              }\n            }\n          }, 50);\n        };\n        _dom.default.addClass($el, 'drag--range');\n        document.onmousemove = function (evnt) {\n          evnt.preventDefault();\n          evnt.stopPropagation();\n          var clientY = evnt.clientY;\n          var _DomTools$getAbsolute = _dom.default.getAbsolutePos(bodyWrapperElem),\n            boundingTop = _DomTools$getAbsolute.boundingTop;\n          // 如果超过可视区，触发滚动\n          if (clientY < boundingTop) {\n            isMouseScrollDown = false;\n            mouseScrollSpaceSize = boundingTop - clientY;\n            if (!mouseScrollTimeout) {\n              startMouseScroll(evnt);\n            }\n          } else if (clientY > boundingTop + bodyWrapperElem.clientHeight) {\n            isMouseScrollDown = true;\n            mouseScrollSpaceSize = clientY - boundingTop - bodyWrapperElem.clientHeight;\n            if (!mouseScrollTimeout) {\n              startMouseScroll(evnt);\n            }\n          } else if (mouseScrollTimeout) {\n            stopMouseScroll();\n          }\n          handleChecked(evnt);\n        };\n        document.onmouseup = function (evnt) {\n          stopMouseScroll();\n          _dom.default.removeClass($el, 'drag--range');\n          checkboxRangeElem.removeAttribute('style');\n          document.onmousemove = domMousemove;\n          document.onmouseup = domMouseup;\n          triggerEvent('end', evnt);\n        };\n        triggerEvent('start', evnt);\n      }\n    }\n  }\n};\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}