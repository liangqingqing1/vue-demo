{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _xeUtils = _interopRequireDefault(require(\"xe-utils\"));\nvar _utils = _interopRequireWildcard(require(\"../../tools/utils\"));\nvar _dom = _interopRequireDefault(require(\"../../tools/dom\"));\nvar _vXETable = _interopRequireDefault(require(\"../../v-x-e-table\"));\nvar _log = require(\"../../tools/log\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar _default = {\n  methods: {\n    /**\r\n     * 关闭快捷菜单\r\n     */\n    _closeMenu: function _closeMenu() {\n      Object.assign(this.ctxMenuStore, {\n        visible: false,\n        selected: null,\n        selectChild: null,\n        showChild: false\n      });\n      return this.$nextTick();\n    },\n    // 处理菜单的移动\n    moveCtxMenu: function moveCtxMenu(evnt, keyCode, ctxMenuStore, property, operKey, operRest, menuList) {\n      var selectItem;\n      var selectIndex = _xeUtils.default.findIndexOf(menuList, function (item) {\n        return ctxMenuStore[property] === item;\n      });\n      if (keyCode === operKey) {\n        if (operRest && _utils.default.hasChildrenList(ctxMenuStore.selected)) {\n          ctxMenuStore.showChild = true;\n        } else {\n          ctxMenuStore.showChild = false;\n          ctxMenuStore.selectChild = null;\n        }\n      } else if (keyCode === 38) {\n        for (var len = selectIndex - 1; len >= 0; len--) {\n          if (menuList[len].visible !== false) {\n            selectItem = menuList[len];\n            break;\n          }\n        }\n        ctxMenuStore[property] = selectItem || menuList[menuList.length - 1];\n      } else if (keyCode === 40) {\n        for (var index = selectIndex + 1; index < menuList.length; index++) {\n          if (menuList[index].visible !== false) {\n            selectItem = menuList[index];\n            break;\n          }\n        }\n        ctxMenuStore[property] = selectItem || menuList[0];\n      } else if (ctxMenuStore[property] && (keyCode === 13 || keyCode === 32)) {\n        this.ctxMenuLinkEvent(evnt, ctxMenuStore[property]);\n      }\n    },\n    /**\r\n     * 快捷菜单事件处理\r\n     */\n    handleGlobalContextmenuEvent: function handleGlobalContextmenuEvent(evnt) {\n      var $refs = this.$refs,\n        tId = this.tId,\n        editStore = this.editStore,\n        menuConfig = this.menuConfig,\n        contextMenu = this.contextMenu,\n        ctxMenuStore = this.ctxMenuStore,\n        ctxMenuOpts = this.ctxMenuOpts,\n        mouseConfig = this.mouseConfig,\n        mouseOpts = this.mouseOpts;\n      var selected = editStore.selected;\n      var layoutList = ['header', 'body', 'footer'];\n      if ((0, _utils.isEnableConf)(menuConfig) || contextMenu) {\n        if (ctxMenuStore.visible && $refs.ctxWrapper && _dom.default.getEventTargetNode(evnt, $refs.ctxWrapper.$el).flag) {\n          evnt.preventDefault();\n          return;\n        }\n        if (this._keyCtx) {\n          var type = 'body';\n          var params = {\n            type: type,\n            $grid: this.$xegrid,\n            $table: this,\n            keyboard: true,\n            columns: this.visibleColumn.slice(0),\n            $event: evnt\n          };\n          // 如果开启单元格区域\n          if (mouseConfig && mouseOpts.area) {\n            var activeArea = this.getActiveCellArea();\n            if (activeArea && activeArea.row && activeArea.column) {\n              params.row = activeArea.row;\n              params.column = activeArea.column;\n              this.openContextMenu(evnt, type, params);\n              return;\n            }\n          } else if (mouseConfig && mouseOpts.selected) {\n            // 如果启用键盘导航且已选中单元格\n            if (selected.row && selected.column) {\n              params.row = selected.row;\n              params.column = selected.column;\n              this.openContextMenu(evnt, type, params);\n              return;\n            }\n          }\n        }\n        // 分别匹配表尾、内容、表尾的快捷菜单\n        for (var index = 0; index < layoutList.length; index++) {\n          var layout = layoutList[index];\n          var columnTargetNode = _dom.default.getEventTargetNode(evnt, this.$el, \"vxe-\".concat(layout, \"--column\"), function (target) {\n            // target=td|th，直接向上找 table 去匹配即可\n            return target.parentNode.parentNode.parentNode.getAttribute('xid') === tId;\n          });\n          var _params = {\n            type: layout,\n            $grid: this.$xegrid,\n            $table: this,\n            columns: this.visibleColumn.slice(0),\n            $event: evnt\n          };\n          if (columnTargetNode.flag) {\n            var cell = columnTargetNode.targetElem;\n            var column = this.getColumnNode(cell).item;\n            var typePrefix = \"\".concat(layout, \"-\");\n            Object.assign(_params, {\n              column: column,\n              columnIndex: this.getColumnIndex(column),\n              cell: cell\n            });\n            if (layout === 'body') {\n              var row = this.getRowNode(cell.parentNode).item;\n              typePrefix = '';\n              _params.row = row;\n              _params.rowIndex = this.getRowIndex(row);\n            }\n            this.openContextMenu(evnt, layout, _params);\n            // 在 v4 中废弃事件 cell-context-menu、header-cell-context-menu、footer-cell-context-menu\n            if (this.$listeners[\"\".concat(typePrefix, \"cell-context-menu\")]) {\n              if (process.env.NODE_ENV === 'development') {\n                (0, _log.warnLog)('vxe.error.delEvent', [\"\".concat(typePrefix, \"cell-context-menu\"), \"\".concat(typePrefix, \"cell-menu\")]);\n              }\n              this.emitEvent(\"\".concat(typePrefix, \"cell-context-menu\"), _params, evnt);\n            } else {\n              this.emitEvent(\"\".concat(typePrefix, \"cell-menu\"), _params, evnt);\n            }\n            return;\n          } else if (_dom.default.getEventTargetNode(evnt, this.$el, \"vxe-table--\".concat(layout, \"-wrapper\"), function (target) {\n            return target.getAttribute('xid') === tId;\n          }).flag) {\n            if (ctxMenuOpts.trigger === 'cell') {\n              evnt.preventDefault();\n            } else {\n              this.openContextMenu(evnt, layout, _params);\n            }\n            return;\n          }\n        }\n      }\n      if ($refs.filterWrapper && !_dom.default.getEventTargetNode(evnt, $refs.filterWrapper.$el).flag) {\n        this.closeFilter();\n      }\n      this.closeMenu();\n    },\n    /**\r\n     * 显示快捷菜单\r\n     */\n    openContextMenu: function openContextMenu(evnt, type, params) {\n      var _this = this;\n      var isCtxMenu = this.isCtxMenu,\n        ctxMenuStore = this.ctxMenuStore,\n        ctxMenuOpts = this.ctxMenuOpts;\n      var config = ctxMenuOpts[type];\n      var visibleMethod = ctxMenuOpts.visibleMethod;\n      if (config) {\n        var options = config.options,\n          disabled = config.disabled;\n        if (disabled) {\n          evnt.preventDefault();\n        } else if (isCtxMenu && options && options.length) {\n          params.options = options;\n          this.preventEvent(evnt, 'event.showMenu', params, function () {\n            if (!visibleMethod || visibleMethod(params)) {\n              evnt.preventDefault();\n              _this.updateZindex();\n              var _DomTools$getDomNode = _dom.default.getDomNode(),\n                scrollTop = _DomTools$getDomNode.scrollTop,\n                scrollLeft = _DomTools$getDomNode.scrollLeft,\n                visibleHeight = _DomTools$getDomNode.visibleHeight,\n                visibleWidth = _DomTools$getDomNode.visibleWidth;\n              var top = evnt.clientY + scrollTop;\n              var left = evnt.clientX + scrollLeft;\n              var handleVisible = function handleVisible() {\n                Object.assign(ctxMenuStore, {\n                  args: params,\n                  visible: true,\n                  list: options,\n                  selected: null,\n                  selectChild: null,\n                  showChild: false,\n                  style: {\n                    zIndex: _this.tZindex,\n                    top: \"\".concat(top, \"px\"),\n                    left: \"\".concat(left, \"px\")\n                  }\n                });\n                _this.$nextTick(function () {\n                  var ctxElem = _this.$refs.ctxWrapper.$el;\n                  var clientHeight = ctxElem.clientHeight;\n                  var clientWidth = ctxElem.clientWidth;\n                  var _DomTools$getAbsolute = _dom.default.getAbsolutePos(ctxElem),\n                    boundingTop = _DomTools$getAbsolute.boundingTop,\n                    boundingLeft = _DomTools$getAbsolute.boundingLeft;\n                  var offsetTop = boundingTop + clientHeight - visibleHeight;\n                  var offsetLeft = boundingLeft + clientWidth - visibleWidth;\n                  if (offsetTop > -10) {\n                    ctxMenuStore.style.top = \"\".concat(Math.max(scrollTop + 2, top - clientHeight - 2), \"px\");\n                  }\n                  if (offsetLeft > -10) {\n                    ctxMenuStore.style.left = \"\".concat(Math.max(scrollLeft + 2, left - clientWidth - 2), \"px\");\n                  }\n                });\n              };\n              var keyboard = params.keyboard,\n                row = params.row,\n                column = params.column;\n              if (keyboard && row && column) {\n                _this.scrollToRow(row, column).then(function () {\n                  var cell = _this.getCell(row, column);\n                  var _DomTools$getAbsolute2 = _dom.default.getAbsolutePos(cell),\n                    boundingTop = _DomTools$getAbsolute2.boundingTop,\n                    boundingLeft = _DomTools$getAbsolute2.boundingLeft;\n                  top = boundingTop + scrollTop + Math.floor(cell.offsetHeight / 2);\n                  left = boundingLeft + scrollLeft + Math.floor(cell.offsetWidth / 2);\n                  handleVisible();\n                });\n              } else {\n                handleVisible();\n              }\n            } else {\n              _this.closeMenu();\n            }\n          });\n        }\n      }\n      this.closeFilter();\n    },\n    ctxMenuMouseoverEvent: function ctxMenuMouseoverEvent(evnt, item, child) {\n      var menuElem = evnt.currentTarget;\n      var ctxMenuStore = this.ctxMenuStore;\n      evnt.preventDefault();\n      evnt.stopPropagation();\n      ctxMenuStore.selected = item;\n      ctxMenuStore.selectChild = child;\n      if (!child) {\n        ctxMenuStore.showChild = _utils.default.hasChildrenList(item);\n        if (ctxMenuStore.showChild) {\n          this.$nextTick(function () {\n            var childWrapperElem = menuElem.nextElementSibling;\n            if (childWrapperElem) {\n              var _DomTools$getAbsolute3 = _dom.default.getAbsolutePos(menuElem),\n                boundingTop = _DomTools$getAbsolute3.boundingTop,\n                boundingLeft = _DomTools$getAbsolute3.boundingLeft,\n                visibleHeight = _DomTools$getAbsolute3.visibleHeight,\n                visibleWidth = _DomTools$getAbsolute3.visibleWidth;\n              var posTop = boundingTop + menuElem.offsetHeight;\n              var posLeft = boundingLeft + menuElem.offsetWidth;\n              var left = '';\n              var right = '';\n              // 是否超出右侧\n              if (posLeft + childWrapperElem.offsetWidth > visibleWidth - 10) {\n                left = 'auto';\n                right = \"\".concat(menuElem.offsetWidth, \"px\");\n              }\n              // 是否超出底部\n              var top = '';\n              var bottom = '';\n              if (posTop + childWrapperElem.offsetHeight > visibleHeight - 10) {\n                top = 'auto';\n                bottom = '0';\n              }\n              childWrapperElem.style.left = left;\n              childWrapperElem.style.right = right;\n              childWrapperElem.style.top = top;\n              childWrapperElem.style.bottom = bottom;\n            }\n          });\n        }\n      }\n    },\n    ctxMenuMouseoutEvent: function ctxMenuMouseoutEvent(evnt, item) {\n      var ctxMenuStore = this.ctxMenuStore;\n      if (!item.children) {\n        ctxMenuStore.selected = null;\n      }\n      ctxMenuStore.selectChild = null;\n    },\n    /**\r\n     * 快捷菜单点击事件\r\n     */\n    ctxMenuLinkEvent: function ctxMenuLinkEvent(evnt, menu) {\n      // 如果一级菜单有配置 code 则允许点击，否则不能点击\n      if (!menu.disabled && (menu.code || !menu.children || !menu.children.length)) {\n        var ctxMenuMethod = _vXETable.default.menus.get(menu.code);\n        var params = Object.assign({\n          menu: menu,\n          $grid: this.$xegrid,\n          $table: this,\n          $event: evnt\n        }, this.ctxMenuStore.args);\n        if (ctxMenuMethod) {\n          ctxMenuMethod.call(this, params, evnt);\n        }\n        // 在 v4 中废弃事件 context-menu-click\n        if (this.$listeners['context-menu-click']) {\n          if (process.env.NODE_ENV === 'development') {\n            (0, _log.warnLog)('vxe.error.delEvent', ['context-menu-click', 'menu-click']);\n          }\n          this.emitEvent('context-menu-click', params, evnt);\n        } else {\n          this.emitEvent('menu-click', params, evnt);\n        }\n        this.closeMenu();\n      }\n    }\n  }\n};\nexports.default = _default;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","default","_xeUtils","_interopRequireDefault","require","_utils","_interopRequireWildcard","_dom","_vXETable","_log","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_default","methods","_closeMenu","assign","ctxMenuStore","visible","selected","selectChild","showChild","$nextTick","moveCtxMenu","evnt","keyCode","property","operKey","operRest","menuList","selectItem","selectIndex","findIndexOf","item","hasChildrenList","len","length","index","ctxMenuLinkEvent","handleGlobalContextmenuEvent","$refs","tId","editStore","menuConfig","contextMenu","ctxMenuOpts","mouseConfig","mouseOpts","layoutList","isEnableConf","ctxWrapper","getEventTargetNode","$el","flag","preventDefault","_keyCtx","type","params","$grid","$xegrid","$table","keyboard","columns","visibleColumn","slice","$event","area","activeArea","getActiveCellArea","row","column","openContextMenu","layout","columnTargetNode","concat","target","parentNode","getAttribute","_params","cell","targetElem","getColumnNode","typePrefix","columnIndex","getColumnIndex","getRowNode","rowIndex","getRowIndex","$listeners","process","env","NODE_ENV","warnLog","emitEvent","trigger","filterWrapper","closeFilter","closeMenu","_this","isCtxMenu","config","visibleMethod","options","disabled","preventEvent","updateZindex","_DomTools$getDomNode","getDomNode","scrollTop","scrollLeft","visibleHeight","visibleWidth","top","clientY","left","clientX","handleVisible","args","list","style","zIndex","tZindex","ctxElem","clientHeight","clientWidth","_DomTools$getAbsolute","getAbsolutePos","boundingTop","boundingLeft","offsetTop","offsetLeft","Math","max","scrollToRow","then","getCell","_DomTools$getAbsolute2","floor","offsetHeight","offsetWidth","ctxMenuMouseoverEvent","child","menuElem","currentTarget","stopPropagation","childWrapperElem","nextElementSibling","_DomTools$getAbsolute3","posTop","posLeft","right","bottom","ctxMenuMouseoutEvent","children","menu","code","ctxMenuMethod","menus"],"sources":["D:/program/LanqiaoVue/vue-demo/node_modules/vxe-table/lib/menu/src/mixin.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _xeUtils = _interopRequireDefault(require(\"xe-utils\"));\nvar _utils = _interopRequireWildcard(require(\"../../tools/utils\"));\nvar _dom = _interopRequireDefault(require(\"../../tools/dom\"));\nvar _vXETable = _interopRequireDefault(require(\"../../v-x-e-table\"));\nvar _log = require(\"../../tools/log\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = {\n  methods: {\n    /**\r\n     * 关闭快捷菜单\r\n     */\n    _closeMenu: function _closeMenu() {\n      Object.assign(this.ctxMenuStore, {\n        visible: false,\n        selected: null,\n        selectChild: null,\n        showChild: false\n      });\n      return this.$nextTick();\n    },\n    // 处理菜单的移动\n    moveCtxMenu: function moveCtxMenu(evnt, keyCode, ctxMenuStore, property, operKey, operRest, menuList) {\n      var selectItem;\n      var selectIndex = _xeUtils.default.findIndexOf(menuList, function (item) {\n        return ctxMenuStore[property] === item;\n      });\n      if (keyCode === operKey) {\n        if (operRest && _utils.default.hasChildrenList(ctxMenuStore.selected)) {\n          ctxMenuStore.showChild = true;\n        } else {\n          ctxMenuStore.showChild = false;\n          ctxMenuStore.selectChild = null;\n        }\n      } else if (keyCode === 38) {\n        for (var len = selectIndex - 1; len >= 0; len--) {\n          if (menuList[len].visible !== false) {\n            selectItem = menuList[len];\n            break;\n          }\n        }\n        ctxMenuStore[property] = selectItem || menuList[menuList.length - 1];\n      } else if (keyCode === 40) {\n        for (var index = selectIndex + 1; index < menuList.length; index++) {\n          if (menuList[index].visible !== false) {\n            selectItem = menuList[index];\n            break;\n          }\n        }\n        ctxMenuStore[property] = selectItem || menuList[0];\n      } else if (ctxMenuStore[property] && (keyCode === 13 || keyCode === 32)) {\n        this.ctxMenuLinkEvent(evnt, ctxMenuStore[property]);\n      }\n    },\n    /**\r\n     * 快捷菜单事件处理\r\n     */\n    handleGlobalContextmenuEvent: function handleGlobalContextmenuEvent(evnt) {\n      var $refs = this.$refs,\n        tId = this.tId,\n        editStore = this.editStore,\n        menuConfig = this.menuConfig,\n        contextMenu = this.contextMenu,\n        ctxMenuStore = this.ctxMenuStore,\n        ctxMenuOpts = this.ctxMenuOpts,\n        mouseConfig = this.mouseConfig,\n        mouseOpts = this.mouseOpts;\n      var selected = editStore.selected;\n      var layoutList = ['header', 'body', 'footer'];\n      if ((0, _utils.isEnableConf)(menuConfig) || contextMenu) {\n        if (ctxMenuStore.visible && $refs.ctxWrapper && _dom.default.getEventTargetNode(evnt, $refs.ctxWrapper.$el).flag) {\n          evnt.preventDefault();\n          return;\n        }\n        if (this._keyCtx) {\n          var type = 'body';\n          var params = {\n            type: type,\n            $grid: this.$xegrid,\n            $table: this,\n            keyboard: true,\n            columns: this.visibleColumn.slice(0),\n            $event: evnt\n          };\n          // 如果开启单元格区域\n          if (mouseConfig && mouseOpts.area) {\n            var activeArea = this.getActiveCellArea();\n            if (activeArea && activeArea.row && activeArea.column) {\n              params.row = activeArea.row;\n              params.column = activeArea.column;\n              this.openContextMenu(evnt, type, params);\n              return;\n            }\n          } else if (mouseConfig && mouseOpts.selected) {\n            // 如果启用键盘导航且已选中单元格\n            if (selected.row && selected.column) {\n              params.row = selected.row;\n              params.column = selected.column;\n              this.openContextMenu(evnt, type, params);\n              return;\n            }\n          }\n        }\n        // 分别匹配表尾、内容、表尾的快捷菜单\n        for (var index = 0; index < layoutList.length; index++) {\n          var layout = layoutList[index];\n          var columnTargetNode = _dom.default.getEventTargetNode(evnt, this.$el, \"vxe-\".concat(layout, \"--column\"), function (target) {\n            // target=td|th，直接向上找 table 去匹配即可\n            return target.parentNode.parentNode.parentNode.getAttribute('xid') === tId;\n          });\n          var _params = {\n            type: layout,\n            $grid: this.$xegrid,\n            $table: this,\n            columns: this.visibleColumn.slice(0),\n            $event: evnt\n          };\n          if (columnTargetNode.flag) {\n            var cell = columnTargetNode.targetElem;\n            var column = this.getColumnNode(cell).item;\n            var typePrefix = \"\".concat(layout, \"-\");\n            Object.assign(_params, {\n              column: column,\n              columnIndex: this.getColumnIndex(column),\n              cell: cell\n            });\n            if (layout === 'body') {\n              var row = this.getRowNode(cell.parentNode).item;\n              typePrefix = '';\n              _params.row = row;\n              _params.rowIndex = this.getRowIndex(row);\n            }\n            this.openContextMenu(evnt, layout, _params);\n            // 在 v4 中废弃事件 cell-context-menu、header-cell-context-menu、footer-cell-context-menu\n            if (this.$listeners[\"\".concat(typePrefix, \"cell-context-menu\")]) {\n              if (process.env.NODE_ENV === 'development') {\n                (0, _log.warnLog)('vxe.error.delEvent', [\"\".concat(typePrefix, \"cell-context-menu\"), \"\".concat(typePrefix, \"cell-menu\")]);\n              }\n              this.emitEvent(\"\".concat(typePrefix, \"cell-context-menu\"), _params, evnt);\n            } else {\n              this.emitEvent(\"\".concat(typePrefix, \"cell-menu\"), _params, evnt);\n            }\n            return;\n          } else if (_dom.default.getEventTargetNode(evnt, this.$el, \"vxe-table--\".concat(layout, \"-wrapper\"), function (target) {\n            return target.getAttribute('xid') === tId;\n          }).flag) {\n            if (ctxMenuOpts.trigger === 'cell') {\n              evnt.preventDefault();\n            } else {\n              this.openContextMenu(evnt, layout, _params);\n            }\n            return;\n          }\n        }\n      }\n      if ($refs.filterWrapper && !_dom.default.getEventTargetNode(evnt, $refs.filterWrapper.$el).flag) {\n        this.closeFilter();\n      }\n      this.closeMenu();\n    },\n    /**\r\n     * 显示快捷菜单\r\n     */\n    openContextMenu: function openContextMenu(evnt, type, params) {\n      var _this = this;\n      var isCtxMenu = this.isCtxMenu,\n        ctxMenuStore = this.ctxMenuStore,\n        ctxMenuOpts = this.ctxMenuOpts;\n      var config = ctxMenuOpts[type];\n      var visibleMethod = ctxMenuOpts.visibleMethod;\n      if (config) {\n        var options = config.options,\n          disabled = config.disabled;\n        if (disabled) {\n          evnt.preventDefault();\n        } else if (isCtxMenu && options && options.length) {\n          params.options = options;\n          this.preventEvent(evnt, 'event.showMenu', params, function () {\n            if (!visibleMethod || visibleMethod(params)) {\n              evnt.preventDefault();\n              _this.updateZindex();\n              var _DomTools$getDomNode = _dom.default.getDomNode(),\n                scrollTop = _DomTools$getDomNode.scrollTop,\n                scrollLeft = _DomTools$getDomNode.scrollLeft,\n                visibleHeight = _DomTools$getDomNode.visibleHeight,\n                visibleWidth = _DomTools$getDomNode.visibleWidth;\n              var top = evnt.clientY + scrollTop;\n              var left = evnt.clientX + scrollLeft;\n              var handleVisible = function handleVisible() {\n                Object.assign(ctxMenuStore, {\n                  args: params,\n                  visible: true,\n                  list: options,\n                  selected: null,\n                  selectChild: null,\n                  showChild: false,\n                  style: {\n                    zIndex: _this.tZindex,\n                    top: \"\".concat(top, \"px\"),\n                    left: \"\".concat(left, \"px\")\n                  }\n                });\n                _this.$nextTick(function () {\n                  var ctxElem = _this.$refs.ctxWrapper.$el;\n                  var clientHeight = ctxElem.clientHeight;\n                  var clientWidth = ctxElem.clientWidth;\n                  var _DomTools$getAbsolute = _dom.default.getAbsolutePos(ctxElem),\n                    boundingTop = _DomTools$getAbsolute.boundingTop,\n                    boundingLeft = _DomTools$getAbsolute.boundingLeft;\n                  var offsetTop = boundingTop + clientHeight - visibleHeight;\n                  var offsetLeft = boundingLeft + clientWidth - visibleWidth;\n                  if (offsetTop > -10) {\n                    ctxMenuStore.style.top = \"\".concat(Math.max(scrollTop + 2, top - clientHeight - 2), \"px\");\n                  }\n                  if (offsetLeft > -10) {\n                    ctxMenuStore.style.left = \"\".concat(Math.max(scrollLeft + 2, left - clientWidth - 2), \"px\");\n                  }\n                });\n              };\n              var keyboard = params.keyboard,\n                row = params.row,\n                column = params.column;\n              if (keyboard && row && column) {\n                _this.scrollToRow(row, column).then(function () {\n                  var cell = _this.getCell(row, column);\n                  var _DomTools$getAbsolute2 = _dom.default.getAbsolutePos(cell),\n                    boundingTop = _DomTools$getAbsolute2.boundingTop,\n                    boundingLeft = _DomTools$getAbsolute2.boundingLeft;\n                  top = boundingTop + scrollTop + Math.floor(cell.offsetHeight / 2);\n                  left = boundingLeft + scrollLeft + Math.floor(cell.offsetWidth / 2);\n                  handleVisible();\n                });\n              } else {\n                handleVisible();\n              }\n            } else {\n              _this.closeMenu();\n            }\n          });\n        }\n      }\n      this.closeFilter();\n    },\n    ctxMenuMouseoverEvent: function ctxMenuMouseoverEvent(evnt, item, child) {\n      var menuElem = evnt.currentTarget;\n      var ctxMenuStore = this.ctxMenuStore;\n      evnt.preventDefault();\n      evnt.stopPropagation();\n      ctxMenuStore.selected = item;\n      ctxMenuStore.selectChild = child;\n      if (!child) {\n        ctxMenuStore.showChild = _utils.default.hasChildrenList(item);\n        if (ctxMenuStore.showChild) {\n          this.$nextTick(function () {\n            var childWrapperElem = menuElem.nextElementSibling;\n            if (childWrapperElem) {\n              var _DomTools$getAbsolute3 = _dom.default.getAbsolutePos(menuElem),\n                boundingTop = _DomTools$getAbsolute3.boundingTop,\n                boundingLeft = _DomTools$getAbsolute3.boundingLeft,\n                visibleHeight = _DomTools$getAbsolute3.visibleHeight,\n                visibleWidth = _DomTools$getAbsolute3.visibleWidth;\n              var posTop = boundingTop + menuElem.offsetHeight;\n              var posLeft = boundingLeft + menuElem.offsetWidth;\n              var left = '';\n              var right = '';\n              // 是否超出右侧\n              if (posLeft + childWrapperElem.offsetWidth > visibleWidth - 10) {\n                left = 'auto';\n                right = \"\".concat(menuElem.offsetWidth, \"px\");\n              }\n              // 是否超出底部\n              var top = '';\n              var bottom = '';\n              if (posTop + childWrapperElem.offsetHeight > visibleHeight - 10) {\n                top = 'auto';\n                bottom = '0';\n              }\n              childWrapperElem.style.left = left;\n              childWrapperElem.style.right = right;\n              childWrapperElem.style.top = top;\n              childWrapperElem.style.bottom = bottom;\n            }\n          });\n        }\n      }\n    },\n    ctxMenuMouseoutEvent: function ctxMenuMouseoutEvent(evnt, item) {\n      var ctxMenuStore = this.ctxMenuStore;\n      if (!item.children) {\n        ctxMenuStore.selected = null;\n      }\n      ctxMenuStore.selectChild = null;\n    },\n    /**\r\n     * 快捷菜单点击事件\r\n     */\n    ctxMenuLinkEvent: function ctxMenuLinkEvent(evnt, menu) {\n      // 如果一级菜单有配置 code 则允许点击，否则不能点击\n      if (!menu.disabled && (menu.code || !menu.children || !menu.children.length)) {\n        var ctxMenuMethod = _vXETable.default.menus.get(menu.code);\n        var params = Object.assign({\n          menu: menu,\n          $grid: this.$xegrid,\n          $table: this,\n          $event: evnt\n        }, this.ctxMenuStore.args);\n        if (ctxMenuMethod) {\n          ctxMenuMethod.call(this, params, evnt);\n        }\n        // 在 v4 中废弃事件 context-menu-click\n        if (this.$listeners['context-menu-click']) {\n          if (process.env.NODE_ENV === 'development') {\n            (0, _log.warnLog)('vxe.error.delEvent', ['context-menu-click', 'menu-click']);\n          }\n          this.emitEvent('context-menu-click', params, evnt);\n        } else {\n          this.emitEvent('menu-click', params, evnt);\n        }\n        this.closeMenu();\n      }\n    }\n  }\n};\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}