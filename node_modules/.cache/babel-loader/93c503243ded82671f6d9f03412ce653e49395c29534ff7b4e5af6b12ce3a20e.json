{"ast":null,"code":"require(\"core-js/modules/es.array.push.js\");\nrequire(\"core-js/modules/es.array.sort.js\");\nvar arrayEach = require('./arrayEach');\nvar toArray = require('./toArray');\nvar map = require('./map');\nvar isArray = require('./isArray');\nvar isFunction = require('./isFunction');\nvar isPlainObject = require('./isPlainObject');\nvar isUndefined = require('./isUndefined');\nvar isNull = require('./isNull');\nvar eqNull = require('./eqNull');\nvar get = require('./get');\nvar property = require('./property');\nvar ORDER_PROP_ASC = 'asc';\nvar ORDER_PROP_DESC = 'desc';\n\n// function handleSort (v1, v2) {\n//   return v1 > v2 ? 1 : -1\n// }\n\n// '' < 数字 < 字符 < null < undefined\nfunction handleSort(v1, v2) {\n  if (isUndefined(v1)) {\n    return 1;\n  }\n  if (isNull(v1)) {\n    return isUndefined(v2) ? -1 : 1;\n  }\n  return v1 && v1.localeCompare ? v1.localeCompare(v2) : v1 > v2 ? 1 : -1;\n}\nfunction buildMultiOrders(name, confs, compares) {\n  return function (item1, item2) {\n    var v1 = item1[name];\n    var v2 = item2[name];\n    if (v1 === v2) {\n      return compares ? compares(item1, item2) : 0;\n    }\n    return confs.order === ORDER_PROP_DESC ? handleSort(v2, v1) : handleSort(v1, v2);\n  };\n}\nfunction getSortConfs(arr, list, fieldConfs, context) {\n  var sortConfs = [];\n  fieldConfs = isArray(fieldConfs) ? fieldConfs : [fieldConfs];\n  arrayEach(fieldConfs, function (handle, index) {\n    if (handle) {\n      var field = handle;\n      var order;\n      if (isArray(handle)) {\n        field = handle[0];\n        order = handle[1];\n      } else if (isPlainObject(handle)) {\n        field = handle.field;\n        order = handle.order;\n      }\n      sortConfs.push({\n        field: field,\n        order: order || ORDER_PROP_ASC\n      });\n      arrayEach(list, isFunction(field) ? function (item, key) {\n        item[index] = field.call(context, item.data, key, arr);\n      } : function (item) {\n        item[index] = field ? get(item.data, field) : item.data;\n      });\n    }\n  });\n  return sortConfs;\n}\n\n/**\r\n  * 将数组进行排序\r\n  *\r\n  * @param {Array} arr 数组\r\n  * @param {Function/String/Array} fieldConfs 方法或属性\r\n  * @param {Object} context 上下文\r\n  * @return {Array}\r\n  */\nfunction orderBy(arr, fieldConfs, context) {\n  if (arr) {\n    if (eqNull(fieldConfs)) {\n      return toArray(arr).sort(handleSort);\n    }\n    var compares;\n    var list = map(arr, function (item) {\n      return {\n        data: item\n      };\n    });\n    var sortConfs = getSortConfs(arr, list, fieldConfs, context);\n    var len = sortConfs.length - 1;\n    while (len >= 0) {\n      compares = buildMultiOrders(len, sortConfs[len], compares);\n      len--;\n    }\n    if (compares) {\n      list = list.sort(compares);\n    }\n    return map(list, property('data'));\n  }\n  return [];\n}\nmodule.exports = orderBy;","map":{"version":3,"names":["arrayEach","require","toArray","map","isArray","isFunction","isPlainObject","isUndefined","isNull","eqNull","get","property","ORDER_PROP_ASC","ORDER_PROP_DESC","handleSort","v1","v2","localeCompare","buildMultiOrders","name","confs","compares","item1","item2","order","getSortConfs","arr","list","fieldConfs","context","sortConfs","handle","index","field","push","item","key","call","data","orderBy","sort","len","length","module","exports"],"sources":["D:/program/LanqiaoVue/vue-demo/node_modules/xe-utils/orderBy.js"],"sourcesContent":["var arrayEach = require('./arrayEach')\r\nvar toArray = require('./toArray')\r\nvar map = require('./map')\r\n\r\nvar isArray = require('./isArray')\r\nvar isFunction = require('./isFunction')\r\nvar isPlainObject = require('./isPlainObject')\r\nvar isUndefined = require('./isUndefined')\r\nvar isNull = require('./isNull')\r\nvar eqNull = require('./eqNull')\r\nvar get = require('./get')\r\nvar property = require('./property')\r\n\r\nvar ORDER_PROP_ASC = 'asc'\r\nvar ORDER_PROP_DESC = 'desc'\r\n\r\n// function handleSort (v1, v2) {\r\n//   return v1 > v2 ? 1 : -1\r\n// }\r\n\r\n// '' < 数字 < 字符 < null < undefined\r\nfunction handleSort (v1, v2) {\r\n  if (isUndefined(v1)) {\r\n    return 1\r\n  }\r\n  if (isNull(v1)) {\r\n    return isUndefined(v2) ? -1 : 1\r\n  }\r\n  return v1 && v1.localeCompare ? v1.localeCompare(v2) : (v1 > v2 ? 1 : -1)\r\n}\r\n\r\nfunction buildMultiOrders (name, confs, compares) {\r\n  return function (item1, item2) {\r\n    var v1 = item1[name]\r\n    var v2 = item2[name]\r\n    if (v1 === v2) {\r\n      return compares ? compares(item1, item2) : 0\r\n    }\r\n    return confs.order === ORDER_PROP_DESC ? handleSort(v2, v1) : handleSort(v1, v2)\r\n  }\r\n}\r\n\r\nfunction getSortConfs (arr, list, fieldConfs, context) {\r\n  var sortConfs = []\r\n  fieldConfs = isArray(fieldConfs) ? fieldConfs : [fieldConfs]\r\n  arrayEach(fieldConfs, function (handle, index) {\r\n    if (handle) {\r\n      var field = handle\r\n      var order\r\n      if (isArray(handle)) {\r\n        field = handle[0]\r\n        order = handle[1]\r\n      } else if (isPlainObject(handle)) {\r\n        field = handle.field\r\n        order = handle.order\r\n      }\r\n      sortConfs.push({\r\n        field: field,\r\n        order: order || ORDER_PROP_ASC\r\n      })\r\n      arrayEach(list, isFunction(field) ? function (item, key) {\r\n        item[index] = field.call(context, item.data, key, arr)\r\n      } : function (item) {\r\n        item[index] = field ? get(item.data, field) : item.data\r\n      })\r\n    }\r\n  })\r\n  return sortConfs\r\n}\r\n\r\n/**\r\n  * 将数组进行排序\r\n  *\r\n  * @param {Array} arr 数组\r\n  * @param {Function/String/Array} fieldConfs 方法或属性\r\n  * @param {Object} context 上下文\r\n  * @return {Array}\r\n  */\r\nfunction orderBy (arr, fieldConfs, context) {\r\n  if (arr) {\r\n    if (eqNull(fieldConfs)) {\r\n      return toArray(arr).sort(handleSort)\r\n    }\r\n    var compares\r\n    var list = map(arr, function (item) {\r\n      return { data: item }\r\n    })\r\n    var sortConfs = getSortConfs(arr, list, fieldConfs, context)\r\n    var len = sortConfs.length - 1\r\n    while (len >= 0) {\r\n      compares = buildMultiOrders(len, sortConfs[len], compares)\r\n      len--\r\n    }\r\n    if (compares) {\r\n      list = list.sort(compares)\r\n    }\r\n    return map(list, property('data'))\r\n  }\r\n  return []\r\n}\r\n\r\nmodule.exports = orderBy\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}